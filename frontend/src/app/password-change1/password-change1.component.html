<app-header></app-header>
<div class="container">
    <h1>Promena lozinke</h1>

    <div class="table">
        <table>
            <tr>
                <td>Unesite korisnicko ime: </td>
                <td><input type="text" name="username" id="username" [(ngModel)]="username"></td>
            </tr>
            <tr>
                <td colspan="2"><button class="button" (click)="findUser()">Unos</button></td>
            </tr>
            <tr>
                <td colspan="2" class="error"> {{ errUsername }} </td>
            </tr>
        </table>
        <hr>
        <table *ngIf="user">
            <tr>
                <td>Pitanje: </td>
                <td> {{ user.securityQuestion }} </td>
            </tr>
            <tr>
                <td>Odgovor:</td>
                <td><input type="text" name="answer" id="answer" [(ngModel)]="answer"></td>
            </tr>
            <tr>
                <td colspan="2"><button class="button" (click)="answerCheck()">Potvrda odgovora</button></td>
            </tr>
            <tr class="error">
                <td colspan="2"> {{ errAnswer }} </td>
            </tr>
        </table>
        <hr *ngIf="user">
        <table *ngIf="goodAnswer">
            <tr>
                <td>Unesite novu lozinku: </td>
                <td><input type="password" name="password" id="password" [(ngModel)]="password"></td>
            </tr>
            <tr>
                <td>Potvrdite novu lozinku: </td>
                <td><input type="password" name="check" id="check" [(ngModel)]="check"></td>
            </tr>
            <tr>
                <td colspan="2"><button class="button" (click)="change()">Potvrda</button></td>
            </tr>
            <tr>
                <td class="error">
                    {{ errPassword }}
                </td>
            </tr>
        </table>
    </div>
</div>